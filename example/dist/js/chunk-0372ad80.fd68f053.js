(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0372ad80","chunk-313aa838"],{"07e1":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("InfiniteScroll",{staticClass:"infinite-scroll",attrs:{empty:e.empty,failed:e.failed,finished:e.finished,waveColor:"#f0eff5"},on:{load:e.load,refresh:e.refresh},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("transition-group",{staticClass:"app__items",attrs:{tag:"ul",name:e.transitionName}},e._l(e.items,function(e){return i("Card",{key:e.id,attrs:{tag:"li",item:e}})}),1)],1)},s=[],a=i("cebc"),l=i("83b8"),o=i("cb94"),r=i("c4c8"),c={components:{Card:l["a"],InfiniteScroll:o["a"]},data:function(){return{items:[],loading:!0,finished:!1,failed:!1,empty:!1,transitionName:"item"}},created:function(){this.query={offset:0,limit:15}},methods:{fetchData:function(e){var t=this;return this.failed=!1,Object(r["b"])(e).then(function(i){var n=i.records,s=i.pages,a=i.total;t.loading?(t.transitionName="item",t.items=t.items.concat(n),t.query.offset=e.offset):(t.transitionName="",t.items=n,t.query.offset=1),t.empty=!a,t.finished=e.offset>=s}).catch(this.failure)},load:function(e){this.fetchData(Object(a["a"])({},this.query,{offset:this.query.offset+1})).then(e)},refresh:function(e){this.fetchData(Object(a["a"])({},this.query,{offset:1})).then(e)},failure:function(){this.failed=!0}}},f=c,d=(i("a7d0"),i("2877")),u=Object(d["a"])(f,n,s,!1,null,null,null);t["default"]=u.exports},"29b6":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".infinite-scroll{padding-bottom:10px}",""])},"2e48":function(e,t,i){var n=i("5398");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=i("499e").default;s("389c40ba",n,!0,{sourceMap:!1,shadowMode:!1})},"4ec8":function(e,t,i){var n=i("29b6");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=i("499e").default;s("878d5d48",n,!0,{sourceMap:!1,shadowMode:!1})},5398:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".v-infinite-scroll__footer{width:100%;min-height:52px;text-align:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.v-infinite-scroll__empty,.v-infinite-scroll__footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.v-infinite-scroll__empty{min-height:400px}.v-infinite-scroll__loading{color:#d9d9d9}",""])},5826:function(e,t,i){var n=i("9fbe");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=i("499e").default;s("3f051655",n,!0,{sourceMap:!1,shadowMode:!1})},"7b96":function(e,t,i){"use strict";var n=i("2e48"),s=i.n(n);s.a},"83b8":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.loading?i(e.tag,{tag:"component",staticClass:"v-c2 v-skeleton--animate"},[i("div",{staticClass:"v-c2__image v-skeleton"}),i("div",{staticClass:"v-c2__detail"},[i("div",{staticClass:"v-c2__title v-skeleton"}),i("div",{staticClass:"v-c2__description v-skeleton"})])]):i(e.tag,{tag:"component",staticClass:"v-c2"},[i("div",{staticClass:"v-c2__image"},[e.item.image?i("img",{attrs:{src:e.item.image}}):e._e()]),i("div",{staticClass:"v-c2__detail"},[i("div",{staticClass:"v-c2__title"},[e._v(e._s(e.item.title))]),i("div",{staticClass:"v-c2__description"},[e._v("\n      "+e._s(e.item.description)+"\n    ")])])])},s=[],a={name:"v-card-c2",props:{tag:{type:String,default:"div"},loading:{type:Boolean,default:!1},item:{type:Object,default:function(){return{image:"",title:"",description:""}}}}},l=a,o=(i("ef2c"),i("2877")),r=Object(o["a"])(l,n,s,!1,null,null,null);t["a"]=r.exports},"9fbe":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".v-c2{display:-webkit-box;display:-ms-flexbox;display:flex;padding:10px;background-color:#fff}.v-c2__image{width:100px;height:100px;background-color:#f0eff5;border-radius:5px}.v-c2__image img{max-width:100%;border-radius:inherit}.v-c2__detail{margin-left:10px;-webkit-box-flex:1;-ms-flex:1;flex:1}.v-c2__title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:16px;min-height:26px;font-weight:450}.v-c2__description{margin-top:5px;height:62px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;font-size:14px}",""])},a7d0:function(e,t,i){"use strict";var n=i("4ec8"),s=i.n(n);s.a},c535:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("default")],2)},s=[],a=(i("67bbb"),i("f6da")),l={name:"WithScroll",props:{rAF:Boolean,wait:Number,onscroll:{type:Function,default:function(){}}},mounted:function(){this.bind()},activated:function(){this.bind()},deactivated:function(){this.unbind()},beforeDestroy:function(){this.unbind(),this.handleScroll=null},methods:{bind:function(){this.isBind||(this.handleScroll=this.rAF?Object(a["n"])(this.handleScroll):Object(a["r"])(this.handleScroll,this.wait),this.scrollEl=Object(a["e"])(this.$el),Object(a["a"])(this.scrollEl,"scroll",this.handleScroll),this.isBind=!0)},unbind:function(){this.isBind&&(Object(a["o"])(this.scrollEl,"scroll",this.handleScroll),this.isBind=!1,this.scrollEl=null)},handleScroll:function(){this.scrollTop=Object(a["f"])(this.scrollEl),this.onscroll(this.scrollTop)},setScrollTop:function(e){Object(a["p"])(this.scrollEl,e)}}},o=l,r=i("2877"),c=Object(r["a"])(o,n,s,!1,null,null,null);t["a"]=c.exports},cb94:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("WithScroll",{attrs:{onscroll:e.update,rAF:""}},[i(e.pullRefresh?"PullRefresh":"div",e._b({tag:"component",attrs:{failed:e.failed,disabled:e.isLoading},on:{refresh:e.refresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},"component",e.$attrs,!1),[i("div",{ref:"container",staticClass:"v-infinite-scroll"},[e._t("default")],2),i("div",{class:e.footerClass},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],class:e.loadingClass},[e._t("loading",[i("Loading",{staticClass:"v-infinite-scroll__loading",attrs:{size:"32"}})])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.finished&&!e.empty,expression:"finished && !empty"}],class:e.finishedClass},[e._t("finished",[e._v("全部加载完成")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.empty,expression:"empty"}],class:e.emptyClass},[e._t("empty",[e._v("空空如也")])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.failed&&!e.finished,expression:"failed && !finished"}],class:e.failedClass,on:{click:e.load}},[e._t("failed",[e._v("加载失败,点击重试")])],2)])])],1)},s=[],a=(i("67bbb"),i("2a56")),l=i("2c1b"),o=i("c535"),r=i("f6da"),c={name:"InfiniteScroll",inheritAttrs:!1,components:{WithScroll:o["a"],PullRefresh:a["a"],Loading:l["a"]},props:{value:{type:Boolean,required:!0},finished:{type:Boolean,default:!1},failed:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},offset:{type:Number,default:300},pullRefresh:{type:Boolean,default:!0},footerClass:{type:String,default:"v-infinite-scroll__footer"},loadingClass:{type:String,default:""},finishedClass:{type:String,default:""},emptyClass:{type:String,default:"v-infinite-scroll__empty"},failedClass:{type:String,default:""}},data:function(){return{refreshing:!1,isLoading:!1}},watch:{value:{handler:function(e){e&&this.load()},immediate:!0}},methods:{update:function(){this.shouldLoadMore()&&this.load()},shouldLoadMore:function(){if(this.finished||this.value||this.failed)return!1;var e=this.$refs.container.getBoundingClientRect().bottom;return e-r["t"].height()<=this.offset},load:function(){this.finished?this.done():this.isLoading||this.refreshing||(this.isLoading=!0,this.$emit("input",!0),this.$emit("load",this.done))},refresh:function(e){this.$emit("refresh",e)},done:function(){var e=this;this.$nextTick(function(){e.$emit("input",!1),e.isLoading=!1})}}},f=c,d=(i("7b96"),i("2877")),u=Object(d["a"])(f,n,s,!1,null,null,null);t["a"]=u.exports},cfb6:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("Navbar",{attrs:{title:"InfiniteScroll"}}),e.render?i("Module"):e._e()],1)},s=[],a=i("07e1"),l={name:"page-infinite-scroll",components:{Module:a["default"]},data:function(){return{render:!1}},mounted:function(){var e=this;this.$animatedRoute.$once("afterEnter",function(){e.render=!0})}},o=l,r=i("2877"),c=Object(r["a"])(o,n,s,!1,null,null,null);t["default"]=c.exports},ef2c:function(e,t,i){"use strict";var n=i("5826"),s=i.n(n);s.a}}]);